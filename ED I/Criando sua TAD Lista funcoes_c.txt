#include "funcoes.h"
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

// FunÃ§Ã£o para limpar a tela e solicitar ao usuÃ¡rio pressionar ENTER para
// continuar

void limpar() {
    // Mensagem para o usuÃ¡rio
    printf("\n\n%sğŸ›‘ %sPressione ENTER para continuar... %sğŸ›‘%s: ", LIGHT_CYAN, LIGHT_YELLOW, LIGHT_CYAN, RESET);

    // Pausa atÃ© o usuÃ¡rio pressionar ENTER
    getchar();

    // Limpa a tela do console (funciona em sistemas Unix)
    printf("\033[H\033[2J");  // Cores e comando de limpar a tela
}


// FunÃ§Ã£o para limpar o buffer de entrada, removendo caracteres extras
void limparbuffer() {
  int c;
  while ((c = getchar()) != '\n' && c != EOF)
    ;
}

Signo *Libera_lista(Signo *Ptl) {
  free(Ptl);
  return NULL;
}

Signo *Cria_lista(void) {
  Signo *pt = (Signo *)malloc(sizeof(Signo));

  // Verifica se a alocaÃ§Ã£o de memÃ³ria foi bem-sucedida e inicializa o FL
  if (pt != NULL)
    pt->FL = 0;
  return pt;
}

Signo *Insere_elem(Signo *Ptl) {
    // Verifica se a lista Ã© vÃ¡lida e se ainda hÃ¡ espaÃ§o para inserir elementos
    if (Ptl == NULL || Ptl->FL == MAX) {
        printf("%sâš ï¸ NÃ£o Ã© possÃ­vel inserir mais elementos ou lista invÃ¡lida.%s\n", YELLOW, RESET);
        return Ptl;
    }

    // Inserir o nome do astrologista
    printf("%sğŸ”® Insira o nome do astrologista: %s", LIGHT_CYAN, RESET);
    scanf("%49[^\n]", Ptl->vetor[Ptl->FL].nome);
    limparbuffer();

    // Inserir o dia do nascimento
    printf("%sğŸ“… Insira o dia do nascimento: %s", BLUE, RESET);
    scanf("%d", &Ptl->vetor[Ptl->FL].data.dia);
    limparbuffer();

    // Inserir o mÃªs do nascimento
    printf("%sğŸ“… Insira o mÃªs do nascimento: %s", BLUE, RESET);
    scanf("%d", &Ptl->vetor[Ptl->FL].data.mes);
    limparbuffer();

    // Inserir o ano do nascimento
    printf("%sğŸ“… Insira o ano do nascimento: %s", BLUE, RESET);
    scanf("%d", &Ptl->vetor[Ptl->FL].data.ano);
    limparbuffer();

    // Determinar signo e elemento
    if ((determinarSignoEElemento(
            Ptl->vetor[Ptl->FL].data.dia, Ptl->vetor[Ptl->FL].data.mes,
            Ptl->vetor[Ptl->FL].signo_pessoa, Ptl->vetor[Ptl->FL].elemento))) {
        printf("%sğŸš« Processo de InserÃ§Ã£o Cancelado!%s\n", RED, RESET);
        return Ptl;
    }

    // ConfirmaÃ§Ã£o de sucesso
    Ptl->FL++;
    printf("%sâœ… Astrologista inserido com sucesso!%s\n", GREEN, RESET);
    return Ptl;
}

int determinarSignoEElemento(int dia, int mes, char *signo, char *elemento) {
  if (mes == 1) {
    strcpy(signo, (dia <= 20) ? "CapricÃ³rnio" : "AquÃ¡rio");
    strcpy(elemento, (dia <= 20) ? "Terra" : "Ar");
  } else if (mes == 2) {
    strcpy(signo, (dia <= 19) ? "AquÃ¡rio" : "Peixes");
    strcpy(elemento, (dia <= 19) ? "Ar" : "Ãgua");
  } else if (mes == 3) {
    strcpy(signo, (dia <= 20) ? "Peixes" : "Ãries");
    strcpy(elemento, (dia <= 20) ? "Ãgua" : "Fogo");
  } else if (mes == 4) {
    strcpy(signo, (dia <= 20) ? "Ãries" : "Touro");
    strcpy(elemento, (dia <= 20) ? "Fogo" : "Terra");
  } else if (mes == 5) {
    strcpy(signo, (dia <= 21) ? "Touro" : "GÃªmeos");
    strcpy(elemento, (dia <= 21) ? "Terra" : "Ar");
  } else if (mes == 6) {
    strcpy(signo, (dia <= 21) ? "GÃªmeos" : "CÃ¢ncer");
    strcpy(elemento, (dia <= 21) ? "Ar" : "Ãgua");
  } else if (mes == 7) {
    strcpy(signo, (dia <= 22) ? "CÃ¢ncer" : "LeÃ£o");
    strcpy(elemento, (dia <= 22) ? "Ãgua" : "Fogo");
  } else if (mes == 8) {
    strcpy(signo, (dia <= 23) ? "LeÃ£o" : "Virgem");
    strcpy(elemento, (dia <= 23) ? "Fogo" : "Terra");
  } else if (mes == 9) {
    strcpy(signo, (dia <= 23) ? "Virgem" : "Libra");
    strcpy(elemento, (dia <= 23) ? "Terra" : "Ar");
  } else if (mes == 10) {
    strcpy(signo, (dia <= 23) ? "Libra" : "EscorpiÃ£o");
    strcpy(elemento, (dia <= 23) ? "Ar" : "Ãgua");
  } else if (mes == 11) {
    strcpy(signo, (dia <= 22) ? "EscorpiÃ£o" : "SagitÃ¡rio");
    strcpy(elemento, (dia <= 22) ? "Ãgua" : "Fogo");
  } else if (mes == 12) {
    strcpy(signo, (dia <= 21) ? "SagitÃ¡rio" : "CapricÃ³rnio");
    strcpy(elemento, (dia <= 21) ? "Fogo" : "Terra");
  } else {
    printf("Data de nascimento invÃ¡lida.\n");
    return 1;
  }
  return 0;
}

int E_vazia(Signo *Ptl) {
  if (Ptl == NULL)
    return -1;
  if (Ptl->FL == 0)
    return 1;
  return 0;
}

int E_cheia(Signo* Ptl) {
    // Verifica se a lista Ã© nula
    if (Ptl == NULL) {
        printf("%sğŸš¨ Erro: Lista invÃ¡lida!%s\n", RED, RESET);
        return -1;
    }
    // Verifica se a lista estÃ¡ cheia
    if (Ptl->FL == MAX) {
        printf("%sğŸš« A lista estÃ¡ cheia!%s\n", RED, RESET);
        limpar();
        return 1;
    }
    return 0;
}


const char *obterMes(int numeroDoMes) {
    // Array de strings contendo os nomes dos meses
    static const char *meses[] = {
        "Janeiro", "Fevereiro", "MarÃ§o",    "Abril",   "Maio",     "Junho",
        "Julho",   "Agosto",    "Setembro", "Outubro", "Novembro", "Dezembro"
    };

    // Verifica se o nÃºmero do mÃªs estÃ¡ dentro do intervalo vÃ¡lido
    if (numeroDoMes < 1 || numeroDoMes > 12) {
        printf("%sğŸš« %sNÃºmero do mÃªs invÃ¡lido!%s\n", RED, CYAN, RESET); // Mensagem de erro
        return NULL;
    }

    // Retorna o nome do mÃªs correspondente
    return meses[numeroDoMes - 1];
}

void Exibir_lista(Signo *Ptl) {
    int i = 0;

    // Verifica se a lista foi inicializada
    if (Ptl == NULL) {
        printf("%s%sâŒ %sErro: Lista nÃ£o inicializada!%s\n", RED, BOLD, RESET, RESET);
        return;
    }

    // Verifica se a lista estÃ¡ vazia
    if (E_vazia(Ptl) == 1) {
        printf("%s%sğŸ” %sA lista estÃ¡ vazia! Nada para exibir.%s\n", LIGHT_BLUE, BOLD, RESET, RESET);
        return;
    }

    // Exibe todos os elementos da lista
    printf("%s%sğŸ“‹ %sLista de Astrologistas:%s\n", MAGENTA, BOLD, RESET, RESET);
    while (i < Ptl->FL) {
        // Imprime o nÃºmero e nome do astrologista
        printf("\n%s%s%d. %s%s%s\n", LIGHT_GREEN, BOLD, i + 1, LIGHT_YELLOW, Ptl->vetor[i].nome, RESET);

        // Imprime a data de nascimento com formataÃ§Ã£o
        printf("   %sğŸŒŸ Data de nascimento: %02d/%s/%04d%s\n", MAGENTA, 
               Ptl->vetor[i].data.dia,
               obterMes(Ptl->vetor[i].data.mes),
               Ptl->vetor[i].data.ano, RESET);

        // Imprime o signo
        printf("   %sğŸ”® Signo: %s%s%s\n", GREEN, BOLD, Ptl->vetor[i].signo_pessoa, RESET);

        // Imprime o elemento
        printf("   %sğŸŒ± Elemento: %s%s%s\n", CYAN, BOLD, Ptl->vetor[i].elemento, RESET);

        i++;
    }
    printf("\n%s%sâœ¨ Fim da lista! âœ¨%s\n", MAGENTA, BOLD, RESET);
}


Signo *Remove_elem(Signo *Ptl, int pos) {
    int i;

    // Verifica se a lista Ã© vÃ¡lida
    if (Ptl == NULL) {
        printf("%sâŒ Erro: Lista nÃ£o inicializada!%s\n", RED, RESET);
        return Ptl;
    }

    // Verifica se a posiÃ§Ã£o Ã© vÃ¡lida
    if (pos < 0 || pos >= Ptl->FL) {
        printf("%sâš ï¸ Erro: PosiÃ§Ã£o invÃ¡lida!%s\n", RED, RESET);
        return Ptl;
    }

    // Remove o elemento da lista
    if (Ptl->FL == 0) {
        printf("%sğŸ” A lista jÃ¡ estÃ¡ vazia!%s\n", YELLOW, RESET);
        return Ptl;
    }

    // Exibe a confirmaÃ§Ã£o de remoÃ§Ã£o
    printf("%sğŸ—‘ï¸ Removendo o %dÂº astrologista...%s\n", MAGENTA, pos + 1, RESET);

    // Move os elementos para preencher o espaÃ§o do elemento removido
    for (i = pos; i < Ptl->FL - 1; i++) {
        Ptl->vetor[i] = Ptl->vetor[i + 1];
    }

    // Atualiza o nÃºmero de elementos na lista
    Ptl->FL--;

    // Mensagem de sucesso
    printf("%sâœ… Astrologista removido com sucesso!%s\n", GREEN, RESET);

    return Ptl;
}

void Salvar_lista(Signo *Ptl) {
    FILE *file;

    // Solicita ao usuÃ¡rio o nome do arquivo
    printf("%sğŸ”¹ %sDigite o nome do arquivo para salvar a lista%s: %s", CYAN, BOLD, RESET, RESET);
    char nome[100];
    int i = 0;
    scanf("%s", nome);
    limparbuffer();
    strcat(nome, ".txt"); // Adiciona a extensÃ£o para o arquivo textual
    file = fopen(nome, "w");

    // Verifica se o arquivo foi aberto corretamente
    if (file == NULL) {
        printf("%sâŒ %sErro ao abrir o arquivo!%s\n", RED, BOLD, RESET);
        limpar();
        return;
    }

    // Mensagem de introduÃ§Ã£o no arquivo
    fprintf(file,
            "ğŸŒŸâœ¨ As estrelas, distantes e onipotentes, apenas contemplam o movimento "
            "incessante das engrenagens do destino. Sabem que, a cada passo, uma "
            "nova direÃ§Ã£o jÃ¡ foi traÃ§ada antes de ser percorrida. Com seu "
            "conhecimento do futuro, elas moldam o passado e observam o "
            "presente. Embora vejam o que nos Ã© invisÃ­vel, sÃ£o tÃ£o cÃ­nicas que "
            "nunca revelariam o que sabem. âœ¨ğŸŒŸ\n\n");

    // Grava cada elemento da lista no arquivo
    while (i < Ptl->FL) {
        fprintf(file, "%d. %s\n", i + 1, Ptl->vetor[i].nome);
        fprintf(file, "   ğŸŒŸ Data de nascimento: %02d/%s/%04d\n", 
                Ptl->vetor[i].data.dia,
                obterMes(Ptl->vetor[i].data.mes),
                Ptl->vetor[i].data.ano);
        fprintf(file, "   ğŸ”® Signo: %s\n", Ptl->vetor[i].signo_pessoa);
        fprintf(file, "   ğŸŒ± Elemento: %s\n\n", Ptl->vetor[i].elemento);
        i++;
    }

    // Fecha o arquivo
    fclose(file);
    printf("%sâœ… %sElemento(s) salvo(s) com sucesso!%s\n", GREEN, BOLD, RESET);
}


// FunÃ§Ã£o para inicializar os dados dos signos
void inicializarSignos(Signo_Enciclopedia *signos) {
  // Inicializando os signos com dados fictÃ­cios e descriÃ§Ãµes
  strcpy(signos[0].nome, "Ãries");
  strcpy(signos[0].datas, "21 mar - 19 abr");
  strcpy(signos[0].elemento, "Fogo");
  strcpy(signos[0].qualidade, "Cardinal");
  strcpy(signos[0].regente, "Marte");
  strcpy(signos[0].descricao,
         "Ãries Ã© o primeiro signo do zodÃ­aco, simbolizando novos comeÃ§os e "
         "lideranÃ§a. Pessoas de Ãries sÃ£o conhecidas por sua energia, "
         "entusiasmo e coragem.");

  strcpy(signos[1].nome, "Touro");
  strcpy(signos[1].datas, "20 abr - 20 mai");
  strcpy(signos[1].elemento, "Terra");
  strcpy(signos[1].qualidade, "Fixo");
  strcpy(signos[1].regente, "VÃªnus");
  strcpy(signos[1].descricao,
         "Touro Ã© um signo de estabilidade e praticidade. Pessoas de Touro sÃ£o "
         "conhecidas por sua determinaÃ§Ã£o, confiabilidade e apreciaÃ§Ã£o do "
         "conforto material.");

  strcpy(signos[2].nome, "GÃªmeos");
  strcpy(signos[2].datas, "21 mai - 20 jun");
  strcpy(signos[2].elemento, "Ar");
  strcpy(signos[2].qualidade, "MutÃ¡vel");
  strcpy(signos[2].regente, "MercÃºrio");
  strcpy(signos[2].descricao,
         "GÃªmeos Ã© o signo da comunicaÃ§Ã£o e adaptabilidade. Pessoas de GÃªmeos "
         "sÃ£o versÃ¡teis, curiosas e tÃªm um talento para lidar com vÃ¡rias "
         "informaÃ§Ãµes ao mesmo tempo.");

  strcpy(signos[3].nome, "CÃ¢ncer");
  strcpy(signos[3].datas, "21 jun - 22 jul");
  strcpy(signos[3].elemento, "Ãgua");
  strcpy(signos[3].qualidade, "Cardinal");
  strcpy(signos[3].regente, "Lua");
  strcpy(signos[3].descricao,
         "CÃ¢ncer Ã© o signo das emoÃ§Ãµes e da famÃ­lia. Pessoas de CÃ¢ncer sÃ£o "
         "sensÃ­veis, protetoras e muito ligadas Ã s suas raÃ­zes e aos seus "
         "entes queridos.");

  strcpy(signos[4].nome, "LeÃ£o");
  strcpy(signos[4].datas, "23 jul - 22 ago");
  strcpy(signos[4].elemento, "Fogo");
  strcpy(signos[4].qualidade, "Fixo");
  strcpy(signos[4].regente, "Sol");
  strcpy(
      signos[4].descricao,
      "LeÃ£o Ã© o signo da autoconfianÃ§a e da criatividade. Pessoas de LeÃ£o sÃ£o "
      "carismÃ¡ticas, generosas e gostam de estar no centro das atenÃ§Ãµes.");

  strcpy(signos[5].nome, "Virgem");
  strcpy(signos[5].datas, "23 ago - 22 set");
  strcpy(signos[5].elemento, "Terra");
  strcpy(signos[5].qualidade, "MutÃ¡vel");
  strcpy(signos[5].regente, "MercÃºrio");
  strcpy(signos[5].descricao,
         "Virgem Ã© o signo da anÃ¡lise e do detalhe. Pessoas de Virgem sÃ£o "
         "prÃ¡ticas, meticulosas e tÃªm um grande talento para organizar e "
         "melhorar sistemas.");

  strcpy(signos[6].nome, "Libra");
  strcpy(signos[6].datas, "23 set - 22 out");
  strcpy(signos[6].elemento, "Ar");
  strcpy(signos[6].qualidade, "Cardinal");
  strcpy(signos[6].regente, "VÃªnus");
  strcpy(signos[6].descricao, "Libra Ã© o signo da harmonia e da justiÃ§a. "
                              "Pessoas de Libra sÃ£o diplomÃ¡ticas, equilibradas "
                              "e tÃªm um forte senso estÃ©tico e de parceria.");

  strcpy(signos[7].nome, "EscorpiÃ£o");
  strcpy(signos[7].datas, "23 out - 21 nov");
  strcpy(signos[7].elemento, "Ãgua");
  strcpy(signos[7].qualidade, "Fixo");
  strcpy(signos[7].regente, "PlutÃ£o");
  strcpy(signos[7].descricao,
         "EscorpiÃ£o Ã© o signo da transformaÃ§Ã£o e da intensidade. Pessoas de "
         "EscorpiÃ£o sÃ£o apaixonadas, determinadas e tÃªm um profundo "
         "entendimento das emoÃ§Ãµes humanas.");

  strcpy(signos[8].nome, "SagitÃ¡rio");
  strcpy(signos[8].datas, "22 nov - 21 dez");
  strcpy(signos[8].elemento, "Fogo");
  strcpy(signos[8].qualidade, "MutÃ¡vel");
  strcpy(signos[8].regente, "JÃºpiter");
  strcpy(signos[8].descricao,
         "SagitÃ¡rio Ã© o signo da aventura e da expansÃ£o. Pessoas de SagitÃ¡rio "
         "sÃ£o otimistas, curiosas e tÃªm um grande desejo de explorar o mundo e "
         "buscar conhecimento.");

  strcpy(signos[9].nome, "CapricÃ³rnio");
  strcpy(signos[9].datas, "22 dez - 19 jan");
  strcpy(signos[9].elemento, "Terra");
  strcpy(signos[9].qualidade, "Cardinal");
  strcpy(signos[9].regente, "Saturno");
  strcpy(signos[9].descricao,
         "CapricÃ³rnio Ã© o signo da ambiÃ§Ã£o e da disciplina. Pessoas de "
         "CapricÃ³rnio sÃ£o responsÃ¡veis, prÃ¡ticas e tÃªm um forte desejo de "
         "alcanÃ§ar seus objetivos e construir seguranÃ§a.");

  strcpy(signos[10].nome, "AquÃ¡rio");
  strcpy(signos[10].datas, "20 jan - 18 fev");
  strcpy(signos[10].elemento, "Ar");
  strcpy(signos[10].qualidade, "Fixo");
  strcpy(signos[10].regente, "Urano");
  strcpy(
      signos[10].descricao,
      "AquÃ¡rio Ã© o signo da inovaÃ§Ã£o e da individualidade. Pessoas de AquÃ¡rio "
      "sÃ£o originais, humanitÃ¡rias e tÃªm uma visÃ£o progressista do futuro.");

  strcpy(signos[11].nome, "Peixes");
  strcpy(signos[11].datas, "19 fev - 20 mar");
  strcpy(signos[11].elemento, "Ãgua");
  strcpy(signos[11].qualidade, "MutÃ¡vel");
  strcpy(signos[11].regente, "Netuno");
  strcpy(signos[11].descricao,
         "Peixes Ã© o signo da intuiÃ§Ã£o e da empatia. Pessoas de Peixes sÃ£o "
         "sonhadoras, compassivas e tÃªm uma conexÃ£o profunda com as emoÃ§Ãµes e "
         "a espiritualidade.");
}

// FunÃ§Ã£o para exibir informaÃ§Ãµes detalhadas de um signo baseado no Ã­ndice fornecido
void exibirInformacoes(const Signo_Enciclopedia *signos, int index) {
    // Exibe o tÃ­tulo da seÃ§Ã£o de informaÃ§Ãµes do signo
    printf("%sğŸ“œ InformaÃ§Ãµes do Signo:%s\n", MAGENTA, RESET);
    // Exibe o nome do signo
    printf("%sğŸŒŸ Signo:%s %s\n", CYAN, RESET, signos[index].nome);
    // Exibe as datas associadas ao signo
    printf("%sğŸ“… Datas:%s %s\n", CYAN, RESET, signos[index].datas);
    // Exibe o elemento associado ao signo
    printf("%sğŸŒ¿ Elemento:%s %s\n", GREEN, RESET, signos[index].elemento);
    // Exibe a qualidade do signo
    printf("%sğŸ”§ Qualidade:%s %s\n", YELLOW, RESET, signos[index].qualidade);
    // Exibe o regente do signo
    printf("%sğŸ‘‘ Regente:%s %s\n", CYAN, RESET, signos[index].regente);
    // Exibe a descriÃ§Ã£o do signo
    printf("%sğŸ“ DescriÃ§Ã£o:%s %s\n\n", MAGENTA, RESET, signos[index].descricao);
}

// FunÃ§Ã£o para exibir a lista de signos do zodÃ­aco com seus respectivos emojis
void exibirSignos(void) {
    // Exibe a lista de signos do zodÃ­aco com formataÃ§Ã£o e emojis
    printf("%sğŸŒŸ Lista dos Signos do ZodÃ­aco:%s\n", MAGENTA, RESET);
    printf("%s[1] - %sÃries%s ğŸ\n", GREEN, BLUE, RESET);
    printf("%s[2] - %sTouro%s ğŸ‚\n", GREEN, BLUE, RESET);
    printf("%s[3] - %sGÃªmeos%s ğŸ‘¯\n", GREEN, BLUE, RESET);
    printf("%s[4] - %sCÃ¢ncer%s ğŸ¦€\n", GREEN, BLUE, RESET);
    printf("%s[5] - %sLeÃ£o%s ğŸ¦\n", GREEN, BLUE, RESET);
    printf("%s[6] - %sVirgem%s ğŸŒ¾\n", GREEN, BLUE, RESET);
    printf("%s[7] - %sLibra%s âš–ï¸\n", GREEN, BLUE, RESET);
    printf("%s[8] - %sEscorpiÃ£o%s ğŸ¦‚\n", GREEN, BLUE, RESET);
    printf("%s[9] - %sSagitÃ¡rio%s ğŸ¹\n", GREEN, BLUE, RESET);
    printf("%s[10] - %sCapricÃ³rnio%s ğŸ\n", GREEN, BLUE, RESET);
    printf("%s[11] - %sAquÃ¡rio%s ğŸŒŠ\n", GREEN, BLUE, RESET);
    printf("%s[12] - %sPeixes%s ğŸŸ\n", GREEN, BLUE, RESET);
}

// FunÃ§Ã£o para calcular e exibir a compatibilidade entre dois signos, com base nas suas posiÃ§Ãµes
void Compatibilidade_Signos(Signo* Ptl, int pos1, int pos2) {

    // Array com os nomes dos signos do zodÃ­aco
    const char* signos[] = {
        "Ãries", "Touro", "GÃªmeos", "CÃ¢ncer", "LeÃ£o", "Virgem", "Libra", "EscorpiÃ£o", "SagitÃ¡rio", "CapricÃ³rnio", "AquÃ¡rio", "Peixes"
    };

    // Matriz de compatibilidade onde cada cÃ©lula [i][j] representa a compatibilidade entre o signo i e o signo j
    int Matriz_Compatibilidade[12][12] = {
        { 85, 60, 75, 50, 90, 55, 80, 65, 95, 70, 85, 60 }, // Ãries
        { 60, 85, 55, 80, 65, 90, 60, 85, 70, 95, 55, 80 }, // Touro
        { 75, 55, 85, 60, 80, 65, 90, 55, 85, 60, 95, 70 }, // GÃªmeos
        { 50, 80, 60, 85, 55, 90, 65, 95, 60, 85, 70, 90 }, // CÃ¢ncer
        { 90, 65, 80, 55, 85, 60, 75, 55, 95, 70, 85, 60 }, // LeÃ£o
        { 55, 90, 65, 85, 60, 85, 55, 80, 65, 95, 60, 85 }, // Virgem
        { 80, 60, 90, 65, 75, 55, 85, 60, 80, 65, 95, 70 }, // Libra
        { 65, 85, 55, 95, 55, 80, 60, 85, 65, 90, 70, 85 }, // EscorpiÃ£o
        { 95, 70, 85, 60, 95, 65, 80, 65, 85, 60, 75, 55 }, // SagitÃ¡rio
        { 70, 95, 60, 85, 70, 95, 65, 90, 60, 85, 55, 80 }, // CapricÃ³rnio
        { 85, 55, 95, 70, 85, 60, 95, 70, 75, 55, 85, 60 }, // AquÃ¡rio
        { 60, 80, 70, 90, 60, 85, 70, 85, 55, 80, 60, 85 }  // Peixes
    };

    int indice1 = -1, indice2 = -1;
    // Encontra os Ã­ndices dos signos com base nas posiÃ§Ãµes fornecidas
    for (int i = 0; i < 12; i++) {
        if (strcmp(signos[i], Ptl->vetor[pos1].signo_pessoa) == 0)
            indice1 = i;
        if (strcmp(signos[i], Ptl->vetor[pos2].signo_pessoa) == 0)
            indice2 = i;
    }

    // Verifica se ambos os signos foram encontrados na lista
    if (indice1 == -1 || indice2 == -1) {
        printf("%sâš ï¸ Erro: Um ou ambos os signos nÃ£o foram encontrados.%s\n", RED, RESET);
        return;
    }

    // Imprime o resultado da compatibilidade com formataÃ§Ã£o e cores
    printf("\n%sğŸŒŸ Compatibilidade entre %s%s%s e %s%s%s:%s\n",
        CYAN, BLUE, Ptl->vetor[pos1].signo_pessoa, RESET, BLUE, Ptl->vetor[pos2].signo_pessoa, RESET, RESET);
    printf("%s\nCompatibilidade: %d%%%s\n", YELLOW, Matriz_Compatibilidade[indice1][indice2], RESET);
}


// FunÃ§Ã£o para exibir mensagens de boas-vindas
void boasVindas() {
    printf("\n" CYAN BOLD "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—" RESET "\n");
    printf(CYAN BOLD "â•‘" RESET " ğŸŒŸâœ¨ " RED BOLD "Bem-vindo ao " RESET MAGENTA "Programa de Astrologia" CYAN " âœ¨ğŸŒŸ " CYAN BOLD "\t\t\t\t\t\t   â•‘" RESET "\n");
    printf(CYAN BOLD "â•‘" RESET " ğŸŒğŸŒœ " YELLOW "Descubra a compatibilidade dos signos e muito mais!" CYAN " ğŸŒ›ğŸŒ " CYAN BOLD "\t\t   â•‘" RESET "\n");
    printf(CYAN BOLD "â•‘" RESET " ğŸ”®ğŸª " GREEN "Que os astros estejam a seu favor!" CYAN " ğŸªğŸ”® " CYAN BOLD "\t\t\t\t\t\t\t   â•‘" RESET "\n");
    printf(CYAN BOLD "â•‘" RESET " ğŸŒ ğŸŒŒ " MAGENTA "Vamos explorar o universo dos signos juntos!" CYAN " ğŸŒŒğŸŒ  " CYAN BOLD "\t\t\t\t   â•‘" RESET "\n");
    printf(CYAN BOLD "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•" RESET "\n\n");
}

// FunÃ§Ã£o para atualizar as informaÃ§Ãµes de um astrologista na lista
void Atualizar_Astrologista(Signo* Ptl, int pos) {
    // Verifica se o ponteiro da lista Ã© vÃ¡lido e se a posiÃ§Ã£o fornecida Ã© vÃ¡lida
    if (Ptl == NULL || pos < 0 || pos >= Ptl->FL) {
        printf("%sâŒ Erro: Astrologista nÃ£o encontrado!%s\n", RED, RESET);
        return;
    }

    // Solicita ao usuÃ¡rio para atualizar as informaÃ§Ãµes do astrologista na posiÃ§Ã£o fornecida
    printf("%sğŸ”„ Atualize as informaÃ§Ãµes do Astrologista %d:%s\n", CYAN, pos + 1, RESET);

    // Atualiza o nome do astrologista
    printf("%sInsira o novo nome: %s", LIGHT_GREEN, RESET);
    scanf(" %[^\n]", Ptl->vetor[pos].nome);
    limparbuffer();

    // Atualiza o dia de nascimento
    printf("%sInsira o novo dia de nascimento: %s", LIGHT_GREEN, RESET);
    scanf("%d", &Ptl->vetor[pos].data.dia);
    limparbuffer();

    // Atualiza o mÃªs de nascimento
    printf("%sInsira o novo mÃªs de nascimento: %s", LIGHT_GREEN, RESET);
    scanf("%d", &Ptl->vetor[pos].data.mes);
    limparbuffer();

    // Atualiza o ano de nascimento
    printf("%sInsira o novo ano de nascimento: %s", LIGHT_GREEN, RESET);
    scanf("%d", &Ptl->vetor[pos].data.ano);
    limparbuffer();

    // Atualiza o signo e elemento com base na nova data de nascimento
    determinarSignoEElemento(Ptl->vetor[pos].data.dia, Ptl->vetor[pos].data.mes,
                             Ptl->vetor[pos].signo_pessoa, Ptl->vetor[pos].elemento);

    // ConfirmaÃ§Ã£o de sucesso
    printf("%sâœ… Astrologista atualizado com sucesso!%s\n", GREEN, RESET);
}

// FunÃ§Ã£o para buscar um astrologista pelo nome na lista
void Buscar_Astrologista(Signo* Ptl, char* nome) {
    // Verifica se o ponteiro da lista Ã© vÃ¡lido
    if (Ptl == NULL) {
        printf("%sâŒ Erro: Lista nÃ£o inicializada!%s\n", RED, RESET);
        return;
    }

    int encontrado = 0;
    // Percorre a lista procurando pelo nome do astrologista
    for (int i = 0; i < Ptl->FL; i++) {
        // Compara o nome do astrologista usando uma comparaÃ§Ã£o case-insensitive
        if (strcasecmp(Ptl->vetor[i].nome, nome) == 0) {
            // Exibe as informaÃ§Ãµes do astrologista encontrado
            printf("%sğŸ” Astrologista Encontrado:%s\n", CYAN, RESET);
            printf("%sNome: %s%s\n", GREEN, Ptl->vetor[i].nome, RESET);
            printf("Data de nascimento: %d/%s/%d\n", Ptl->vetor[i].data.dia,
                   obterMes(Ptl->vetor[i].data.mes), Ptl->vetor[i].data.ano);
            printf("Signo: %s\n", Ptl->vetor[i].signo_pessoa);
            printf("Elemento: %s\n\n", Ptl->vetor[i].elemento);
            encontrado = 1;
            break;
        }
    }

    // Se nÃ£o encontrou o astrologista, exibe uma mensagem de erro
    if (!encontrado) {
        printf("%sâŒ Astrologista nÃ£o encontrado!%s\n", RED, RESET);
    }
}

// FunÃ§Ã£o para obter o nome do signo com base no Ã­ndice
const char* obterSignoPorIndice(int indice) {
    // Array de strings contendo os nomes dos signos
    static const char* signos[] = {
        "Ãries", "Touro", "GÃªmeos", "CÃ¢ncer", "LeÃ£o", 
        "Virgem", "Libra", "EscorpiÃ£o", "SagitÃ¡rio", 
        "CapricÃ³rnio", "AquÃ¡rio", "Peixes"
    };

    // Verifica se o Ã­ndice estÃ¡ dentro do intervalo vÃ¡lido e retorna o nome do signo
    if (indice >= 0 && indice < 12) {
        return signos[indice];
    }
    return "Desconhecido";
}

// FunÃ§Ã£o para exibir estatÃ­sticas dos signos presentes na lista de astrologistas
void Exibir_Estatisticas(Signo* Ptl) {
    // Emojis representando os signos
    const char* emojis[] = {
        "â™ˆ", "â™‰", "â™Š", "â™‹", "â™Œ", "â™", "â™", "â™", "â™", "â™‘", "â™’", "â™“"
    };

    // Nomes dos signos
    const char* signos[] = {
        "Ãries", "Touro", "GÃªmeos", "CÃ¢ncer", "LeÃ£o", 
        "Virgem", "Libra", "EscorpiÃ£o", "SagitÃ¡rio", 
        "CapricÃ³rnio", "AquÃ¡rio", "Peixes"
    };

    // Verifica se a lista foi inicializada e se nÃ£o estÃ¡ vazia
    if (Ptl == NULL || E_vazia(Ptl) == 1) {
        printf("%sâŒ Lista nÃ£o inicializada ou vazia!%s\n", RED, RESET);
        return;
    }

    int total = Ptl->FL;
    int signos_count[12] = {0}; // Array para contar o nÃºmero de astrologistas por signo

    // Conta o nÃºmero de astrologistas para cada signo
    for (int i = 0; i < total; i++) {
        for (int j = 0; j < 12; j++) {
            if (strcmp(Ptl->vetor[i].signo_pessoa, obterSignoPorIndice(j)) == 0) {
                signos_count[j]++;
                break;
            }
        }
    }

    // Exibe as estatÃ­sticas da lista
    printf("%sğŸ“Š EstatÃ­sticas da Lista:%s\n", MAGENTA, RESET);
    printf("%sTotal de Astrologistas: %d%s\n", CYAN, total, RESET);

    // Exibe o nÃºmero de astrologistas para cada signo com seus respectivos emojis
    for (int i = 0; i < 12; i++) {
        printf("%s%s %s: %d%s\n", BOLD, emojis[i], signos[i], signos_count[i], RESET);
    }
}
