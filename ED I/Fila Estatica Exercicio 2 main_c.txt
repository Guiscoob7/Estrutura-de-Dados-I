#include <stdio.h>
#include <stdlib.h>
#include <time.h>
#include "funcoes.h"

// ğŸŒŸ FunÃ§Ã£o principal
int main() {
    srand((unsigned int)time(NULL)); // ğŸ² Inicializa o gerador de nÃºmeros aleatÃ³rios com base no tempo atual

    // Mensagem de boas-vindas
    boasVindas(); // Exibe a mensagem de boas-vindas
    limpar();     // Limpa a tela do terminal

    // ğŸ“‹ Criando novas filas
    Fila *filas[3]; // Declara um array de ponteiros para filas

    // ğŸ†• Cria trÃªs filas
    for (int i = 0; i < 3; i++) {
        filas[i] = Cria_fila(); // Cria uma nova fila e armazena o ponteiro no array
    }

    // â— Verifica se as filas foram criadas corretamente
    if (filas[0] == NULL || filas[1] == NULL || filas[2] == NULL) {
        // Mensagem de erro em vermelho se a criaÃ§Ã£o das filas falhar
        printf(RED "ğŸš¨ Erro ao criar filas. %s\n", RESET); 
        return 1; // Finaliza o programa com cÃ³digo de erro
    }

    // ğŸš€ Insere elementos aleatÃ³rios nas filas F1 e F2
    for (int j = 0; j < 2; j++) {
        for (int i = 0; i < MAX_FILA; i++) {
            // Insere um nÃºmero aleatÃ³rio (0-99) na fila
            filas[j] = Insere_fila(filas[j], rand() % 100);
        }
    }

    // ğŸ“Š Imprime as filas F1 e F2
    for (int i = 0; i < 2; i++) {
        // TÃ­tulo da fila em azul e negrito
        printf(BLUE "ğŸ–¨ï¸ %sFila F%2d: %s" RESET, BOLD, i + 1, RESET); 
        // Imprime o conteÃºdo da fila
        Imprime_fila(filas[i]);
        printf("\n");
    }
    limpar(); // Limpa a tela do terminal

    // ğŸ”— Mescla F1 e F2 em F3 e ğŸ“œ Imprime a fila resultante da mesclagem
    Mesclar_filas(filas[0], filas[1], filas[2]); // Mescla F1 e F2 em F3
    limpar(); // Limpa a tela do terminal

    // ğŸ—‘ï¸ Libera a memÃ³ria das filas
    for (int i = 0; i < 3; i++) {
        // Mensagem de liberaÃ§Ã£o de memÃ³ria em laranja
        printf(ORANGE "ğŸ§¹ Limpando a memÃ³ria da Fila F%d... %s\n", i + 1, RESET);
        // Libera a memÃ³ria alocada para a fila e define o ponteiro como NULL
        filas[i] = Libera_fila(filas[i]);
    }
    limpar(); // Limpa a tela do terminal

    // âœ… Finaliza o programa
    printf(GREEN "âœ… Programa concluÃ­do com sucesso! %s\n", RESET); // Mensagem de sucesso em verde

    return 0; // Retorna 0 indicando que o programa foi concluÃ­do com sucesso
}
