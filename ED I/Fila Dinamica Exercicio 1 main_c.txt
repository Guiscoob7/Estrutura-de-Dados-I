#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include "funcoes.h"

// ğŸŒŸ FunÃ§Ã£o principal
int main() {
    boasVindas();  // ğŸ‰ Exibe mensagem de boas-vindas
    limpar();      // ğŸ§¹ Limpa o console

    Fila* filas[4];  // ğŸ“‚ Array de filas para armazenar os nÃºmeros
    for (int i = 0; i < 4; i++)
        filas[i] = Cria_Fila();  // ğŸ› ï¸ Inicializa cada fila

    int num;  // ğŸ”¢ VariÃ¡vel para armazenar o nÃºmero convertido
    char frase[50];  // ğŸ“ Array para armazenar a entrada do usuÃ¡rio

    printf(LIGHT_GREEN BOLD "ğŸŒŸ Bem-vindo ao manipulador de filas! ğŸš€" RESET "\n\n");

    // âœï¸ Solicita a entrada de nÃºmeros ao usuÃ¡rio
    printf(YELLOW "âœï¸  Digite diversos nÃºmeros inteiros e aperte " RESET RED "ENTER: " RESET);
    scanf("%49[^\n]", frase);  // ğŸ“¥ LÃª uma linha de nÃºmeros inteiros
    limparbuffer();  // ğŸ§¹ Limpa o buffer de entrada

    char *token = strtok(frase, " ");  // âœ‚ï¸ Separa a string em tokens (nÃºmeros)
    while (token != NULL)
    {
        num = atoi(token);  // ğŸ”„ Converte o token em nÃºmero inteiro
        filas[0] = Insere_Fila(filas[0], num);  // â• Insere o nÃºmero na primeira fila
        token = strtok(NULL, " ");  // ğŸ‘‰ Vai para o prÃ³ximo token
    }
    limpar();  // ğŸ§¹ Limpa a tela

    // ğŸ”„ Processa e organiza os nÃºmeros nas respectivas filas
    printf(BLUE BOLD "ğŸ”„ Processando os nÃºmeros e organizando nas filas... â³" RESET "\n");
    Manipular_fila(filas);  // ğŸ› ï¸ Chama a funÃ§Ã£o que manipula as filas
    limpar();  // ğŸ§¹ Limpa a tela

    // ğŸ“‹ Exibe o conteÃºdo da primeira fila (todos os nÃºmeros)
    printf(BLACK "ğŸ“‹ Fila Original F (todos os nÃºmeros): " RESET);
    Exibir_Fila(filas[0]);  // ğŸ‘€ Mostra os nÃºmeros inseridos na fila F
    printf("\n");
    limpar();  // ğŸ§¹ Limpa a tela

    // ğŸ”¢ Exibe a fila com mÃºltiplos de 2
    printf(CYAN "ğŸ”¢ Fila F2 (mÃºltiplos de 2): " RESET);
    Exibir_Fila(filas[1]);  // ğŸ‘€ Mostra os mÃºltiplos de 2
    printf("\n");
    limpar();  // ğŸ§¹ Limpa a tela

    // ğŸ“ˆ Exibe a fila com mÃºltiplos de 3
    printf(LIGHT_CYAN "ğŸ“ˆ Fila F3 (mÃºltiplos de 3): " RESET);
    Exibir_Fila(filas[2]);  // ğŸ‘€ Mostra os mÃºltiplos de 3
    printf("\n");
    limpar();  // ğŸ§¹ Limpa a tela

    // â— Exibe a fila com os outros valores
    printf(RED "â— Fila F4 (outros valores): " RESET);
    Exibir_Fila(filas[3]);  // ğŸ‘€ Mostra os valores que nÃ£o sÃ£o mÃºltiplos de 2 ou 3
    printf("\n");
    limpar();  // ğŸ§¹ Limpa a tela

    // ğŸ§¹ Libera todas as filas e limpa a memÃ³ria
    printf(ORANGE BOLD "ğŸ§¹ Liberando todas as filas... ğŸ—‘ï¸" RESET "\n");
    for (int i = 0; i < 4; i++)
        filas[i] = Libera_fila(filas[i]);  // ğŸš® Libera a memÃ³ria de cada fila
    limpar();  // ğŸ§¹ Limpa a tela

    // âœ… Mensagem de finalizaÃ§Ã£o com sucesso
    printf(PURPLE BOLD "âœ… Todas as filas foram liberadas com sucesso! ğŸ‰" RESET "\n");
    printf(BLACK BOLD "ğŸ‘€ Programa Finalizado!" RESET "\n");

    return 0;  // ğŸ”š Fim do programa
}
